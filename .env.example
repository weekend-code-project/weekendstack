# =============================================================================
# WEEKENDSTACK - COMPLETE CONFIGURATION TEMPLATE
# =============================================================================
# Copy this file to .env and customize as needed
# Generate secure passwords with: openssl rand -hex 32
#
# Services are organized into profiles:
# - core: Homer, Traefik, Cloudflare Tunnel
# - dev: Coder, Gitea, GitLab
# - ai: Open WebUI, SearXNG, Ollama, Stable Diffusion, ComfyUI
# - productivity: n8n, Paperless, NocoDB, Activepieces, Postiz, AtroCore
# - automation: Home Assistant, Node-RED
# - media: Immich, Kavita, Navidrome
# - personal: Mealie, Firefly III, wger
# - monitoring: Dozzle, WUD, Uptime Kuma, Netdata, Duplicati, Portainer
# - networking: Pi-Hole
#
# Start specific profiles: docker compose --profile dev --profile ai up -d
# Start all services: docker compose --profile all up -d

COMPUTER_NAME=dev-workstation
COMPUTER_TYPE=workstation

# Default profile selection - this enables ALL services
COMPOSE_PROFILES=all

# =============================================================================
# CORE CODER CONFIGURATION (REQUIRED)
# =============================================================================

# Coder Access Configuration
# Use the host IP so agent health checks reach the control plane
# CODER_ACCESS_URL is now automatically derived from HOST_IP (see System Configuration below)
# CODER_ACCESS_URL=http://192.168.2.50:7080
CODER_HTTP_ADDRESS=0.0.0.0:7080
CODER_HTTP_PORT=7080

# =============================================================================
# DATABASE CONFIGURATION (REQUIRED)
# =============================================================================

# PostgreSQL Database Settings
POSTGRES_USER=admin
POSTGRES_PASSWORD=CHANGEME1234
POSTGRES_DB=coder

# =============================================================================
# DASHBOARD CONFIGURATION
# =============================================================================

# Homer - Service Dashboard / Landing Page
# Access all services from one place at http://${HOST_IP}:${HOMER_PORT}
HOMER_PORT=8080
HOMER_MEMORY_LIMIT=128m
HOMER_TRAEFIK_ENABLE=true
HOMER_DOMAIN=dashboard.${BASE_DOMAIN}

# =============================================================================
# SYSTEM CONFIGURATION
# =============================================================================

# Domain & Storage
BASE_DOMAIN=localhost
HOST_IP=192.168.2.50

# Traefik & Local Routing Configuration
LAB_DOMAIN=lab
TRAEFIK_DOCKER_NETWORK=shared-network
CODER_HOSTNAME=coder
TZ=America/New_York

# Force all /go/ links to use local or external (leave empty for auto-detect)
# Options: "local" | "external" | "" (auto-detect based on how user accessed Glance)
FORCE_LINK_MODE=
FILES_BASE_DIR=./files
DATA_BASE_DIR=./data
# Absolute path required by Terraform Docker provider for bind mounts
WORKSPACE_DIR=/mnt/workspace

# SSH_KEY_DIR: MUST be an absolute path to your SSH directory
# Examples:
#   Linux:   /home/username/.ssh
#   macOS:   /Users/username/.ssh
#   Windows WSL: /home/username/.ssh
SSH_KEY_DIR=${CONFIG_BASE_DIR}/ssh

# Config and file paths must be absolute for Docker bind mounts
CONFIG_BASE_DIR=./config
# Filesystem Paths - User-facing data goes to ./files for backup
CODER_TEMPLATE_DIR=${CONFIG_BASE_DIR}/coder/templates
GITEA_DATA_DIR=${DATA_BASE_DIR}/gitea/app
REGISTRY_DATA_DIR=${DATA_BASE_DIR}/registry/cache
# Proxy & Tunnel Config Paths
TRAEFIK_CONFIG_FILE=${CONFIG_BASE_DIR}/traefik/config.yml
TRAEFIK_AUTH_DIR=${CONFIG_BASE_DIR}/traefik/auth

# Default Traefik Authentication
# Used for external access to services without built-in auth (Glance, IT-Tools, Excalidraw, AI services)
# Services with built-in auth (Paperless, Vaultwarden, Gitea, etc.) use their own credentials
# Local .lab domain access does NOT require auth (trusted network)
DEFAULT_TRAEFIK_AUTH_USER=admin
DEFAULT_TRAEFIK_AUTH_PASS=CHANGEME1234

CLOUDFLARE_CONFIG_FILE=${CONFIG_BASE_DIR}/cloudflare/config.yml
CLOUDFLARE_CREDENTIALS_DIR=${CONFIG_BASE_DIR}/cloudflare/.cloudflared
CLOUDFLARE_ACCOUNT_ID=your_cloudflare_account_id
CLOUDFLARE_TUNNEL_ID=your_cloudflare_tunnel_id
CLOUDFLARE_API_KEY=your_cloudflare_api_key
# Error Pages - Custom Error Pages for Traefik
# Available themes: ghost, l7-light, l7-dark, shuffle, noise, hacker-terminal, cats, lost-in-space, app-down, connection, orient
ERROR_PAGES_THEME=ghost
ERROR_PAGES_SHOW_DETAILS=false
ERROR_PAGES_MEMORY_LIMIT=64m
# NOTE on *DOMAIN variables used by Traefik (Host rules):
# - If you access services via Traefik/Cloudflare, use hostnames WITHOUT ports (e.g., app.example.com)
# - If you access via localhost port mapping, you may include :PORT in the domain variables where shown

# Resource Limits
POSTGRES_MEMORY_LIMIT=1g
CODER_MEMORY_LIMIT=2g

# Timezone
TIMEZONE=UTC

# =============================================================================
# AUTOMATION SERVICES CONFIGURATION (OPTIONAL - Profile: automation)
# =============================================================================
# Enable/disable automation services by setting profile to 'automation' or 'disabled'

# Workflow Automation (N8N)
AUTOMATION_N8N_PROFILE=automation
N8N_PORT=5678
N8N_MEMORY_LIMIT=2g
N8N_TRAEFIK_ENABLE=true
N8N_DOMAIN=n8n.${BASE_DOMAIN}
N8N_PROTOCOL=http
N8N_METRICS_ENABLE=true
N8N_DIAGNOSTICS_ENABLE=false
N8N_DBNAME=n8n
N8N_DBUSER=admin
N8N_DBPASS=CHANGEME1234
N8N_SECURE_COOKIE=false

# =============================================================================
# HOME AUTOMATION CONFIGURATION (OPTIONAL - Profile: automation)
# =============================================================================
# Smart home automation platform

# Home Assistant - Smart Home Automation
HOMEASSISTANT_PORT=8123
HOMEASSISTANT_MEMORY_LIMIT=2g
HOMEASSISTANT_TRAEFIK_ENABLE=true
HOMEASSISTANT_DOMAIN=home.${BASE_DOMAIN}
HOMEASSISTANT_PROTOCOL=https
# Run Home Assistant as the same UID/GID as the VS Code remote user so bind-mounted config files remain editable.
HOMEASSISTANT_UID=1000
HOMEASSISTANT_GID=1000
# For USB device access (Zigbee/Z-Wave), uncomment privileged mode in compose file

# =============================================================================
# AI SERVICES CONFIGURATION (OPTIONAL - Profile: ai, gpu)
# =============================================================================
# AI services include chat frontends, LLM backends, and image generators
# Profile 'ai' = CPU services (chat UIs, search)
# Profile 'gpu' = GPU-accelerated services (Ollama, Stable Diffusion, ComfyUI)

# =============================================================================
# GPU CONFIGURATION
# =============================================================================
# Enable GPU acceleration for AI services (requires NVIDIA Container Toolkit)
# Install: sudo apt-get install -y nvidia-container-toolkit && sudo systemctl restart docker
# Verify: docker run --rm --gpus all nvidia/cuda:12.0-base nvidia-smi
GPU_ENABLE=true
GPU_COUNT=1

# Default VRAM allocation (8GB minimum for basic LLM + image gen)
# Total VRAM should accommodate: Ollama + one image generator running simultaneously
GPU_VRAM_DEFAULT=8g

# -----------------------------------------------------------------------------
# VRAM TIER CONFIGURATIONS (copy values for your system)
# -----------------------------------------------------------------------------
# 8GB (Default - Minimal):  OLLAMA=1g, SD=6g, simultaneous basic use
#   Models: qwen2.5:0.5b (~400MB), SD 1.5 pruned (~4GB)
#   Limitations: 512x512 max images, slower inference, one service at a time recommended
#
# 16GB (Balanced):          OLLAMA=6g, SD=6g, COMFYUI=6g (pick SD or ComfyUI)
#   Models: llama3.2:3b, mistral:7b, SDXL
#
# 32GB (Professional):      OLLAMA=16g, SD=10g, COMFYUI=10g
#   Models: llama3.1:8b, codellama:13b, FLUX
#
# 94GB (Workstation):       OLLAMA=40g, SD=20g, COMFYUI=20g, WHISPERX=8g, IMMICH_ML=4g
#   Models: llama3.1:70b, mixtral:8x7b, FLUX-dev, multiple services simultaneously
# -----------------------------------------------------------------------------

# =============================================================================
# OLLAMA - LLM Backend (GPU Accelerated)
# =============================================================================
# Unified LLM backend for all chat frontends (Open WebUI, LibreChat, AnythingLLM)
# Runs as container with GPU acceleration
OLLAMA_PORT=11434
OLLAMA_MEMORY_LIMIT=1g
OLLAMA_HOST=http://ollama:11434

# Auto-download model on first start (small model for 8GB systems)
# Set to empty string to disable auto-download: OLLAMA_AUTO_PULL_MODEL=
# Recommended minimal: qwen2.5:0.5b (~400MB), phi3:mini (~2GB)
OLLAMA_AUTO_PULL_MODEL=qwen2.5:0.5b

# =============================================================================
# AI CHAT INTERFACES
# =============================================================================
# All chat frontends connect to Ollama container at http://ollama:11434

# Open WebUI - Primary Chat Interface
AI_CHAT_PROFILE=ai
OPENWEBUI_PORT=3000
OPENWEBUI_MEMORY_LIMIT=2g
OPENWEBUI_TRAEFIK_ENABLE=true
OPENWEBUI_DOMAIN=chat.${BASE_DOMAIN}
WEBUI_SECRET_KEY=secure-chat-key-2024

# Privacy Search Engine (SearXNG)
AI_SEARCH_PROFILE=ai
SEARXNG_PORT=4000
SEARXNG_MEMORY_LIMIT=1g
SEARXNG_TRAEFIK_ENABLE=false
SEARXNG_DOMAIN=search.${BASE_DOMAIN}
SEARXNG_PROTOCOL=http
SEARXNG_SECRET_KEY=searxng-secret-key-change-me-2024
SEARXNG_SECRET=searxng-secret-key-change-me-2024
SEARXNG_AUTH_ENABLE=true
SEARXNG_AUTH_USER=admin
SEARXNG_AUTH_PASSWORD=${DEFAULT_TRAEFIK_AUTH_PASS}

# =============================================================================
# IMAGE GENERATION (GPU Required)
# =============================================================================
# Stable Diffusion WebUI
STABLE_DIFFUSION_PORT=7861
STABLE_DIFFUSION_MEMORY_LIMIT=6g
STABLE_DIFFUSION_TRAEFIK_ENABLE=true
STABLE_DIFFUSION_DOMAIN=sd-${COMPUTER_NAME}.${BASE_DOMAIN}
STABLE_DIFFUSION_SECRET=stable-diffusion-secret-2024
STABLE_DIFFUSION_ARGS=--listen --port 7860 --allow-code --medvram --xformers --enable-insecure-extension-access --ckpt-dir /stable-diffusion-webui/models/Stable-diffusion

# Auto-download SD model on first start (SD 1.5 pruned ~4GB for 8GB systems)
# Set to empty string to disable: STABLE_DIFFUSION_AUTO_DOWNLOAD_MODEL=
# Models download to ./files/ai-models/stable-diffusion/models/Stable-diffusion/
STABLE_DIFFUSION_AUTO_DOWNLOAD_MODEL=https://huggingface.co/runwayml/stable-diffusion-v1-5/resolve/main/v1-5-pruned-emaonly.safetensors

# ComfyUI - Node-based Image Generation
COMFYUI_PORT=8188
COMFYUI_MEMORY_LIMIT=6g
COMFYUI_ARGS=--listen 0.0.0.0 --port 8188

# ComfyUI auto-download (disabled by default - download via UI or share with SD)
# Set URL to enable: COMFYUI_AUTO_DOWNLOAD_MODEL=https://...
COMFYUI_AUTO_DOWNLOAD_MODEL=

# =============================================================================
# SPEECH & MUSIC GENERATION (GPU)
# =============================================================================
# WhisperX - Advanced Speech-to-Text
WHISPERX_PORT=9001
WHISPERX_MEMORY_LIMIT=4g
WHISPERX_MODEL=large-v2

# DiffRhythm - AI Music Generation (requires 8GB+ VRAM)
DIFFRHYTHM_PORT=7870
DIFFRHYTHM_MEMORY_LIMIT=8g

# =============================================================================
# IMMICH ML - Photo/Video AI (Optional GPU)
# =============================================================================
# Toggle GPU acceleration for Immich machine learning (face recognition, object detection)
# Enable only if you have spare VRAM after other AI services
IMMICH_GPU_ENABLE=false
IMMICH_ML_MEMORY_LIMIT=2g

# Global Traefik Configuration for AI Services
TRAEFIK_TLS_ENABLE=true
TRAEFIK_CERT_RESOLVER=letsencrypt

# =============================================================================
# PRODUCTIVITY SERVICES CONFIGURATION (OPTIONAL - Profile: productivity)
# =============================================================================
# Enable/disable productivity services by setting profile to 'productivity' or 'disabled'

# Database & Data Management (NocoDB - Airtable Alternative)
PRODUCTIVITY_DATABASE_PROFILE=productivity
NOCODB_PORT=8090
NOCODB_MEMORY_LIMIT=2g
NOCODB_TRAEFIK_ENABLE=false
NOCODB_DOMAIN=nocodb.${BASE_DOMAIN}  # Traefik/Cloudflare hostname
NOCODB_PROTOCOL=http
NOCODB_JWT_SECRET=nocodb-jwt-secret-change-me-2024
NOCODB_AUTH_JWT_SECRET=nocodb-auth-jwt-secret-change-me-2024
NOCODB_ADMIN_PASSWORD=CHANGEME1234
NOCODB_DBNAME=nocodb
NOCODB_DBUSER=admin
NOCODB_DBPASS=CHANGEME1234

# Document Management (Paperless-ngx)
PRODUCTIVITY_DOCS_PROFILE=productivity
PAPERLESS_PORT=8082
PAPERLESS_MEMORY_LIMIT=2g
PAPERLESS_TRAEFIK_ENABLE=true
PAPERLESS_DOMAIN=paperless.${BASE_DOMAIN}  # Match Traefik/Cloudflare route
PAPERLESS_URL=https://paperless.${BASE_DOMAIN}
PAPERLESS_API_KEY=your_paperless_api_key_here
PAPERLESS_PROTOCOL=https
PAPERLESS_ADMIN_USER=admin
PAPERLESS_ADMIN_PASSWORD=CHANGEME1234
PAPERLESS_SECRET_KEY=paperless-secret-key-change-me-2024
PAPERLESS_REDIS_HOST=paperless-redis
PAPERLESS_DBHOST=paperless-db
PAPERLESS_DBNAME=paperless
PAPERLESS_DBUSER=admin
PAPERLESS_DBPASS=CHANGEME1234
PAPERLESS_ALLOWED_HOSTS=*
# File paths for document storage - can point to network shares
PAPERLESS_MEDIA_PATH=${FILES_BASE_DIR}/paperless/media  # Stored documents
PAPERLESS_CONSUME_PATH=${FILES_BASE_DIR}/paperless/consume  # Inbox for new documents
PAPERLESS_EXPORT_PATH=${FILES_BASE_DIR}/paperless/export  # Export directory
# File paths for document storage - can point to network shares
PAPERLESS_MEDIA_PATH=${FILES_BASE_DIR}/paperless/media  # Stored documents
PAPERLESS_CONSUME_PATH=${FILES_BASE_DIR}/paperless/consume  # Inbox for new documents
PAPERLESS_EXPORT_PATH=${FILES_BASE_DIR}/paperless/export  # Export directory

# Workflow Automation (Activepieces)
# Note: ACTIVEPIECES_ENCRYPTION_KEY must be exactly 32 hex characters (16 bytes)
# Generate with: openssl rand -hex 16
# Generate JWT secret with: openssl rand -hex 32
PRODUCTIVITY_WORKFLOW_PROFILE=productivity
ACTIVEPIECES_PORT=8087
ACTIVEPIECES_MEMORY_LIMIT=2g
ACTIVEPIECES_TRAEFIK_ENABLE=true
ACTIVEPIECES_DOMAIN=activepieces.${BASE_DOMAIN}
ACTIVEPIECES_PROTOCOL=https
ACTIVEPIECES_ENCRYPTION_KEY=0123456789abcdef0123456789abcdef
ACTIVEPIECES_JWT_SECRET=0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef
ACTIVEPIECES_DBNAME=activepieces
ACTIVEPIECES_DBUSER=admin
ACTIVEPIECES_DBPASS=CHANGEME1234

# Social Media Management (Postiz)
PRODUCTIVITY_SOCIAL_PROFILE=productivity
POSTIZ_PORT=8095
POSTIZ_MEMORY_LIMIT=2g
POSTIZ_TRAEFIK_ENABLE=true
POSTIZ_DOMAIN=postiz.${BASE_DOMAIN}
POSTIZ_PROTOCOL=https
POSTIZ_NEXTAUTH_SECRET=postiz-nextauth-secret-change-me-2024
POSTIZ_JWT_SECRET=postiz-jwt-secret-change-me-2024
POSTIZ_ADMIN_EMAIL=admin@example.com
POSTIZ_ADMIN_PASSWORD=CHANGEME1234
POSTIZ_DBNAME=postiz
POSTIZ_DBUSER=admin
POSTIZ_DBPASS=CHANGEME1234

# Digital Asset Management (AtroCore/AtroDAM)
PRODUCTIVITY_DAM_PROFILE=productivity
ATROCORE_PORT=8099
ATROCORE_MEMORY_LIMIT=3g
ATROCORE_TRAEFIK_ENABLE=true
ATROCORE_DOMAIN=atrocore.${BASE_DOMAIN}
ATROCORE_URL=http://atrocore.lab
ATROCORE_PROTOCOL=http
ATROCORE_ADMIN_USER=admin
ATROCORE_ADMIN_PASSWORD=CHANGEME1234
ATROCORE_DBNAME=atrocore
ATROCORE_DBUSER=admin
ATROCORE_DBPASS=CHANGEME1234

# =============================================================================
# DEVELOPMENT SERVICES CONFIGURATION (OPTIONAL - Profile: development)
# =============================================================================
# Enable/disable development services by setting profile to 'development' or 'disabled'

# Git Repository Hosting (Gitea with Actions)
DEVELOPMENT_GIT_PROFILE=development
GITEA_PORT=7001
GITEA_SSH_PORT=2222
GITEA_MEMORY_LIMIT=2g
GITEA_TRAEFIK_ENABLE=true
GITEA_DOMAIN=gitea.${BASE_DOMAIN}  # Traefik/Cloudflare hostname
GITEA_PROTOCOL=http
GITEA_SECRET_KEY=gitea-secret-key-change-me-2024
GITEA_INTERNAL_TOKEN=gitea-internal-token-change-me-2024
GITEA_JWT_SECRET=gitea-jwt-secret-change-me-2024
GITEA_ACTIONS_ENABLED=true
GITEA_DBNAME=gitea
GITEA_DBUSER=admin
GITEA_DBPASS=CHANGEME1234
REGISTRY_PORT=5001
REGISTRY_DOMAIN=registry.${BASE_DOMAIN}

# =============================================================================
# MONITORING SERVICES CONFIGURATION (OPTIONAL - Profile: monitoring)
# =============================================================================
# Enable/disable monitoring services by setting profile to 'monitoring' or 'disabled'

# Service Monitoring (Uptime Kuma)
MONITORING_UPTIME_PROFILE=monitoring
UPTIME_KUMA_PORT=6001
UPTIME_KUMA_MEMORY_LIMIT=1g
UPTIME_KUMA_TRAEFIK_ENABLE=true
UPTIME_KUMA_DOMAIN=status-${COMPUTER_NAME}.${BASE_DOMAIN}
UPTIME_KUMA_PROTOCOL=http

# =============================================================================
# PROXY SERVICES (OPTIONAL - Profile: proxy)
# =============================================================================
# Only needed when using --profile proxy for external access

# Cloudflare Tunnel Configuration
TUNNEL_NAME=cloudflare-tunnel
TUNNEL_CREDENTIALS_FILE=your-tunnel-id.json

# Traefik Configuration
TRAEFIK_HTTP_PORT=80
TRAEFIK_HTTPS_PORT=443
TRAEFIK_DASHBOARD_PORT=8083
TRAEFIK_DASHBOARD_ENABLED=true
TRAEFIK_INSECURE=true
TRAEFIK_LOG_LEVEL=INFO
ACME_EMAIL=admin@localhost

# Port 8080 is RESERVED for tunnel/proxy services
# Traefik/Cloudflare routed hostname for Coder
CODER_DOMAIN=coder.${BASE_DOMAIN}


# =============================================================================
# NETWORKING SERVICES CONFIGURATION (Profile: networking)
# =============================================================================
# DNS and network-level services (internal access only)

# Pi-Hole - Network-wide Ad Blocking
# Access web interface at http://${HOST_IP}:${PIHOLE_PORT_WEB}/admin
# NOT exposed via Traefik - internal network access only
PIHOLE_PORT_WEB=8088
PIHOLE_PORT_DNS=53
PIHOLE_MEMORY_LIMIT=512m
PIHOLE_WEBPASSWORD=CHANGEME1234
PIHOLE_DNS1=1.1.1.1
PIHOLE_DNS2=1.0.0.1
# Note: If port 53 conflicts with systemd-resolved, run:
#   sudo systemctl disable systemd-resolved
#   sudo systemctl stop systemd-resolved

# =============================================================================
# OPTIONAL: Example production-style domain overrides
#
# Uncomment and adapt for a real DNS/Tunnel setup (e.g., Cloudflare -> Traefik)
# These do NOT change defaults above; they serve as a quick-start reference.
#
# BASE_DOMAIN=example.com
# CODER_DOMAIN=coder.${BASE_DOMAIN}
# GITEA_DOMAIN=gitea.${BASE_DOMAIN}
# N8N_DOMAIN=n8n.${BASE_DOMAIN}
# NOCODB_DOMAIN=nocodb.${BASE_DOMAIN}
# PAPERLESS_DOMAIN=paperless.${BASE_DOMAIN}
# ACTIVEPIECES_DOMAIN=activepieces.${BASE_DOMAIN}
# SEARXNG_DOMAIN=search.${BASE_DOMAIN}
# OPENWEBUI_DOMAIN=chat.${BASE_DOMAIN}
# REGISTRY_DOMAIN=registry.${BASE_DOMAIN}
#
# # If routing through HTTPS externally
# PAPERLESS_PROTOCOL=https
# SEARXNG_PROTOCOL=https
# NOCODB_PROTOCOL=https
# GITEA_PROTOCOL=https
#

# GitLab
GITLAB_HTTP_PORT=8929
GITLAB_SSH_PORT=2224
GITLAB_CONFIG_DIR=./data/gitlab/config
GITLAB_LOGS_DIR=./data/gitlab/logs
GITLAB_DATA_DIR=./data/gitlab/data
GITLAB_MEMORY_LIMIT=4g

# Guacamole - Remote Desktop Gateway
GUACAMOLE_PORT=8098
GUACAMOLE_DOMAIN=guacamole.${BASE_DOMAIN}
GUACAMOLE_MEMORY_LIMIT=1g
GUACAMOLE_DBNAME=guacamole
GUACAMOLE_DBUSER=admin
GUACAMOLE_DBPASS=CHANGEME1234
GUACAMOLE_CONFIG_DIR=./config/guacamole

# Focalboard - Project Management
FOCALBOARD_PORT=8097
FOCALBOARD_DOMAIN=focalboard.${BASE_DOMAIN}
FOCALBOARD_MEMORY_LIMIT=512m

# Immich - Photo & Video Management
IMMICH_VERSION=release
IMMICH_PORT=2283
IMMICH_DOMAIN=immich.${BASE_DOMAIN}
IMMICH_URL=http://192.168.2.50:2283
IMMICH_API_KEY=your_immich_api_key_here
IMMICH_DB_USER=admin
IMMICH_DB_PASSWORD=CHANGEME1234
IMMICH_DB_NAME=immich

# Local upload storage path (default setup uses VM storage)
IMMICH_UPLOAD_PATH=./files/immich

# Advanced: NFS Storage Configuration (Optional)
# Uncomment and configure to use NFS storage instead of local VM storage
# See docs/immich-setup.md for detailed NFS setup instructions
# NFS_SERVER_IP=192.168.2.3
# NFS_PHOTOS_PATH=/mnt/user/photos/immich-uploads

IMMICH_MEMORY_LIMIT=2g
IMMICH_ML_MEMORY_LIMIT=4g

# Vaultwarden - Password Manager
VAULTWARDEN_PORT=8222
VAULTWARDEN_DOMAIN=vault.${BASE_DOMAIN}
VAULTWARDEN_SIGNUPS_ALLOWED=true
VAULTWARDEN_ADMIN_TOKEN=
VAULTWARDEN_MEMORY_LIMIT=256m

# Kavita - eBook/Manga Reader
KAVITA_PORT=5000
KAVITA_DOMAIN=kavita.${BASE_DOMAIN}
KAVITA_LIBRARY_PATH=./files/kavita/library  # eBook/manga library - can point to network share  # eBook/manga library - can point to network share
KAVITA_MEMORY_LIMIT=512m

# Navidrome - Music Streaming Server
NAVIDROME_PORT=4533
NAVIDROME_DOMAIN=music.${BASE_DOMAIN}
NAVIDROME_MUSIC_PATH=./files/navidrome/music  # Music library - can point to NFS/SMB share (e.g., /mnt/unraid/music)  # Music library - can point to NFS/SMB share (e.g., /mnt/unraid/music)
NAVIDROME_MEMORY_LIMIT=512m

# =============================================================================
# PERSONAL SERVICES
# =============================================================================

# Mealie - Meal Planning
MEALIE_PORT=9925
MEALIE_DOMAIN=mealie.${BASE_DOMAIN}
MEALIE_MEMORY_LIMIT=512m

# Firefly III - Personal Finance
FIREFLY_PORT=8086
FIREFLY_DOMAIN=firefly.${BASE_DOMAIN}
FIREFLY_APP_KEY=SomeRandomStringOf32CharsExactly
FIREFLY_MEMORY_LIMIT=512m

# wger - Workout Tracker
WGER_PORT=8089
WGER_DOMAIN=wger.${BASE_DOMAIN}
WGER_SECRET_KEY=wger-secret-key-change-me-in-production
WGER_MEMORY_LIMIT=512m

# Node-RED - Flow Automation
NODERED_PORT=1880
NODERED_DOMAIN=nodered.${BASE_DOMAIN}
NODERED_MEMORY_LIMIT=512m

# Trilium - Note Taking
TRILIUM_PORT=8085
TRILIUM_DOMAIN=trilium.${BASE_DOMAIN}
TRILIUM_MEMORY_LIMIT=512m

# Vikunja - Task Management
VIKUNJA_PORT=3456
VIKUNJA_DOMAIN=vikunja.${BASE_DOMAIN}
VIKUNJA_JWT_SECRET=vikunja-jwt-secret-change-me
VIKUNJA_MEMORY_LIMIT=256m

# =============================================================================
# MONITORING SERVICES
# =============================================================================
DOZZLE_PORT=9999
DOZZLE_DOMAIN=dozzle.${BASE_DOMAIN}

UPTIME_KUMA_PORT=3001
UPTIME_KUMA_DOMAIN=uptime.${BASE_DOMAIN}

NETDATA_PORT=19999
NETDATA_DOMAIN=netdata.${BASE_DOMAIN}

DUPLICATI_PORT=8200
DUPLICATI_DOMAIN=duplicati.${BASE_DOMAIN}

PORTAINER_PORT=9443
PORTAINER_DOMAIN=portainer.${BASE_DOMAIN}
KOMODO_PASSKEY=komodo-passkey-change-me

NETBOX_PORT=8484
NETBOX_DOMAIN=netbox.${BASE_DOMAIN}
NETBOX_SUPERUSER=admin
NETBOX_SUPERUSER_EMAIL=admin@example.com
NETBOX_SUPERUSER_PASSWORD=CHANGEME1234
NETBOX_DB_PASSWORD=CHANGEME1234
NETBOX_SECRET_KEY=c15da210a41cd2c97ec29b239afb79000213ee3cf14025d1a40106b1f01b7e62
WUD_AUTH_USER=admin
WUD_AUTH_PASSWORD=CHANGEME1234
WUD_AUTH_HASH='$apr1$riKwQzd1$/ATDPpfbknUNr4RurjIER0'
WUD_URL=wud:3000

# =============================================================================
# UTILITY TOOLS
# =============================================================================
# IT-Tools - Developer Utilities Collection
IT_TOOLS_PORT=8091
IT_TOOLS_DOMAIN=it-tools.${BASE_DOMAIN}
IT_TOOLS_MEMORY_LIMIT=256m

# Excalidraw - Whiteboard Collaboration
EXCALIDRAW_PORT=8092
EXCALIDRAW_DOMAIN=excalidraw.${BASE_DOMAIN}
EXCALIDRAW_MEMORY_LIMIT=256m

# Docmost - Wiki/Documentation
DOCMOST_PORT=8093
DOCMOST_DOMAIN=docmost.${BASE_DOMAIN}
DOCMOST_MEMORY_LIMIT=512m
DOCMOST_SECRET=docmost-secret-key-change-me-2024
DOCMOST_DBNAME=docmost
DOCMOST_DBUSER=admin
DOCMOST_DBPASS=CHANGEME1234

# ByteStash - Code Snippet Manager
BYTESTASH_PORT=8094
BYTESTASH_DOMAIN=bytestash.${BASE_DOMAIN}
BYTESTASH_MEMORY_LIMIT=256m
BYTESTASH_JWT_SECRET=bytestash-jwt-secret-change-me-2024

# Speedtest Tracker - Internet Speed Monitoring
# Note: Container must be named 'speedtest-tracker' and on shared-network
SPEEDTEST_URL=speedtest-tracker:80
SPEEDTEST_TRACKER_API_TOKEN=your_speedtest_api_token_here
SPEEDTEST_SCHEDULE=0 * * * *  # Run every hour on the hour
SPEEDTEST_PORT=8765
SPEEDTEST_MEMORY_LIMIT=512m

# AppFlowy - Notion Alternative
APPFLOWY_PORT=8096
APPFLOWY_DOMAIN=appflowy.${BASE_DOMAIN}
APPFLOWY_MEMORY_LIMIT=512m
