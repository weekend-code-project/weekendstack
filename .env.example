# ============================================================================
# WEEKENDSTACK - ENVIRONMENT CONFIGURATION
# ============================================================================
# SETUP INSTRUCTIONS:
# 1. Copy this file to .env:  cp .env.example .env
# 2. Generate secure passwords and secrets (see commands below)
# 3. Review and customize all values marked with <CUSTOMIZE>
# 4. Run validation: ./tools/validate-env.sh
#
# Password Generation Commands:
#   Standard Password (32 chars): openssl rand -hex 32
#   JWT Secret (64 chars):        openssl rand -hex 64  
#   Encryption Key (32 chars):    openssl rand -hex 32
#   App Key (base64, 32 chars):   openssl rand -base64 32
#
# Quick Setup (auto-generate all secrets):
#   ./tools/env-template-gen.sh
#
# Service Profiles Available:
#   - all:          Enable ALL services
#   - core:         Essential services (Traefik, Pi-hole, Glance)
#   - ai:           AI/LLM services (Open WebUI, Ollama, LocalAI, etc.)
#   - dev:          Development (Coder, Gitea, GitLab, Guacamole)
#   - productivity: Productivity (Paperless, NocoDB, N8N, etc.)
#   - personal:     Personal (Immich, Mealie, Firefly, wger)
#   - media:        Media (Kavita, Navidrome)
#   - automation:   Home Automation (Home Assistant, Node-RED)
#   - monitoring:   Monitoring (Uptime Kuma, Netdata, Portainer, etc.)
#   - networking:   Network services (Pi-hole, Cloudflare Tunnel)
#
# Usage:
#   Start all:              docker compose --profile all up -d
#   Start specific profile: docker compose --profile dev --profile ai up -d
#
# ============================================================================

# ============================================================================
# SETUP METADATA
# ============================================================================
# These values are set automatically by setup.sh
# DO NOT manually edit unless you know what you're doing
# ============================================================================
SETUP_COMPLETED=false
SETUP_DATE=
SELECTED_PROFILES=

# ============================================================================
# SECTION 1: GLOBAL SYSTEM SETTINGS
# ============================================================================

# System Identification
COMPUTER_NAME=dev-workstation                    # <CUSTOMIZE> Your hostname
COMPUTER_TYPE=workstation                        # workstation | server | homelab

# Default Profile Selection
COMPOSE_PROFILES=all                             # all | core | dev | ai | etc.

# Geographic & Time Settings
TZ=America/New_York                              # <CUSTOMIZE> Your timezone

# Network Configuration
HOST_IP=192.168.2.50                             # <CUSTOMIZE> Your Docker host IP

# Domain Configuration
# LOCAL_DOMAIN: Used for LAN access (e.g., https://service.lab)
# - All services will be accessible at https://<service>.${LAB_DOMAIN}
# - Requires Pi-hole DNS or manual /etc/hosts entries
# - Uses self-signed certificates (trust CA cert to avoid browser warnings)
LAB_DOMAIN=lab                                   # <CUSTOMIZE> Local domain suffix (default: lab)

# EXTERNAL_DOMAIN: Used for internet access via Cloudflare Tunnel
# - Leave as "localhost" if not using Cloudflare Tunnel
# - Set to your domain (e.g., example.com) when using Cloudflare
# - All services will be accessible at https://<service>.${BASE_DOMAIN}
BASE_DOMAIN=localhost                            # <CUSTOMIZE> External domain (leave as localhost or set to your domain)

# Traefik Network
TRAEFIK_DOCKER_NETWORK=shared-network            # Docker network for Traefik routing

# User/Group IDs for File Permissions
PUID=1000                                        # <CUSTOMIZE> Your user ID (run: id -u)
PGID=1000                                        # <CUSTOMIZE> Your group ID (run: id -g)

# ============================================================================
# SECTION 2: FILE STORAGE PATHS
# ============================================================================
# Default: Local storage in ./files directory (recommended for initial setup)
# For NFS: Change FILES_BASE_DIR to /mnt/unraid/files after validating local setup
#
# IMPORTANT: Test with local ./files first, then migrate to NFS after confirming
# all services work correctly!
# ============================================================================

# Base Directories
FILES_BASE_DIR=./files                           # User data storage (backup this!)
DATA_BASE_DIR=./data                             # Application data
CONFIG_BASE_DIR=./config                         # Configuration files
WORKSPACE_DIR=/mnt/workspace                     # Coder workspace (absolute path)

# SSH Configuration
# MUST be absolute path to your .ssh directory
# Examples: /home/username/.ssh | /Users/username/.ssh | /mnt/user/sshkeys
SSH_KEY_DIR=${CONFIG_BASE_DIR}/ssh               # <CUSTOMIZE> Path to SSH keys

# Service-Specific File Paths (use FILES_BASE_DIR variable)
# Paperless-ngx
PAPERLESS_MEDIA_PATH=${FILES_BASE_DIR}/paperless/media       # Stored documents
# ============================================================================
# SECTION 3: GLOBAL CREDENTIALS
# ============================================================================
# Shared credentials used across multiple services that support env-based auth.
# Individual services can override these if needed.
#
# IMPORTANT DISTINCTION:
# - DEFAULT_ADMIN_PASSWORD: Simple human-usable password (change from "admin"!)
# - DEFAULT_DB_PASS, *_SECRET, *_KEY: Auto-generated hex secrets (keep as-is)
#
# SECURITY: For production, change DEFAULT_ADMIN_PASSWORD to something secure.
# The hex secrets below are fine - they're for backend authentication/encryption.
#
# Generate secure passwords:
#   openssl rand -hex 32                    # For secrets/keys
#   openssl rand -base64 12                 # For human passwords (e.g., vR8kL2nP9xQw)
# ============================================================================

# NFS Mount Paths (COMMENTED OUT - Enable after testing local setup)
# Uncomment and configure these when ready to use NFS storage:
# NFS_SERVER_IP=192.168.2.3                      # <CUSTOMIZE> NFS server IP
# NFS_PHOTOS_PATH=/mnt/user/files/immich         # Immich photos
# NFS_NAVIDROME_PATH=/mnt/user/files/navidrome   # Navidrome music
# NFS_KAVITA_PATH=/mnt/user/files/kavita         # Kavita ebooks/manga

# ============================================================================
# SECTION 3: GLOBAL CREDENTIALS
# ============================================================================
# Shared credentials used across multiple services that support env-based auth.
# Individual services can override these if needed.
#
# SECURITY: Generate unique passwords for production:
#   openssl rand -hex 32
# ============================================================================

# Default Admin Credentials (for services supporting env-based auth)
DEFAULT_ADMIN_EMAIL=admin@example.com            # <CUSTOMIZE>
DEFAULT_ADMIN_USER=admin
DEFAULT_ADMIN_PASSWORD=admin

# Default Database Credentials Template
DEFAULT_DB_USER=dbuser
DEFAULT_DB_PASS=                                 # <GENERATE> openssl rand -hex 32

# Default Secret Keys (for JWT, session encryption, etc.)
DEFAULT_JWT_SECRET=                              # <GENERATE> openssl rand -hex 64
DEFAULT_ENCRYPTION_KEY=                          # <GENERATE> openssl rand -hex 32
DEFAULT_APP_SECRET=                              # <GENERATE> openssl rand -hex 32

# Traefik Global Authentication
# Used for external access to services WITHOUT built-in auth (IT-Tools, Excalidraw, AI services)
# Local .lab domain access does NOT require auth (trusted network)
DEFAULT_TRAEFIK_AUTH_USER=admin
DEFAULT_TRAEFIK_AUTH_PASS=                       # <GENERATE> openssl rand -hex 32

# Force Link Mode (for Glance go/ links)
# Options: "local" | "external" | "" (auto-detect)
FORCE_LINK_MODE=

# ============================================================================
# SECTION 4: CORE SERVICES
# ============================================================================

# ---------------------------------------------------------------------------
# Glance - Dashboard (no authentication)
# ---------------------------------------------------------------------------
# First-time setup: Visit http://glance.lab to view dashboard
# No credentials needed

# ---------------------------------------------------------------------------
# Vaultwarden - Password Manager
# ---------------------------------------------------------------------------
# First-time setup: Visit http://vault.lab
# First user to sign up becomes admin
VAULTWARDEN_SIGNUPS_ALLOWED=true                 # Set to false after creating accounts
OPENWEBUI_PORT=3007
VAULTWARDEN_ADMIN_TOKEN=                         # <GENERATE> openssl rand -hex 32 (optional admin panel)

# ---------------------------------------------------------------------------
# Link Router - Go Links Service (no authentication)
# ---------------------------------------------------------------------------
# No credentials needed - internal service

# ============================================================================
# SECTION 5: AI SERVICES
# ============================================================================

# ---------------------------------------------------------------------------
# Ollama - LLM Backend (CPU and GPU versions)
# ---------------------------------------------------------------------------
# No authentication - API service
OLLAMA_PORT=11434
OLLAMA_MEMORY_LIMIT=8g
GPU_OLLAMA_MEMORY_LIMIT=16g

# ---------------------------------------------------------------------------
# Open WebUI (formerly Ollama WebUI)
# ---------------------------------------------------------------------------
# First-time setup: Visit http://open-webui.lab
# First user to sign up becomes admin
# No env credentials needed for user accounts

# App Configuration
WEBUI_SECRET_KEY=                                # <GENERATE> openssl rand -hex 64
OPENAI_API_BASE_URL=http://localai:8080/v1
OPENAI_API_KEY=sk-local-api-key

# ---------------------------------------------------------------------------
# AnythingLLM - Document Chat
# ---------------------------------------------------------------------------
# First-time setup: Visit http://anythingllm.lab for setup wizard
ANYTHINGLLM_JWT_SECRET=                          # <GENERATE> openssl rand -hex 64
ANYTHINGLLM_AUTH_TOKEN=                          # <GENERATE> openssl rand -hex 64
ANYTHINGLLM_SERVER_PORT=3001

# ---------------------------------------------------------------------------
# LibreChat - Multi-AI Chat Interface
# ---------------------------------------------------------------------------
# First-time setup: Registration enabled, create your account
LIBRECHAT_JWT_SECRET=                            # <GENERATE> openssl rand -hex 64
LIBRECHAT_JWT_REFRESH_SECRET=                    # <GENERATE> openssl rand -hex 64
LIBRECHAT_CREDS_KEY=                             # <GENERATE> openssl rand -hex 32
LIBRECHAT_CREDS_IV=                              # <GENERATE> openssl rand -hex 16
LIBRECHAT_ALLOW_REGISTRATION=true                # Set to false after creating accounts

# Database
LIBRECHAT_MONGO_URI=mongodb://librechat-db:27017/LibreChat

# ---------------------------------------------------------------------------
# LocalAI - Local AI Models (no authentication)
# ---------------------------------------------------------------------------
LOCALAI_PORT=8080
LOCALAI_MEMORY_LIMIT=4g

# ---------------------------------------------------------------------------
# SearXNG - Private Search Engine
# ---------------------------------------------------------------------------
SEARXNG_SECRET_KEY=                              # <GENERATE> openssl rand -hex 64
SEARXNG_PORT=8082

# ---------------------------------------------------------------------------
# Whisper / WhisperX - Speech-to-Text (no authentication)
# ---------------------------------------------------------------------------
WHISPER_PORT=9001
WHISPERX_PORT=9001

# ---------------------------------------------------------------------------
# PrivateGPT - Document Q&A (no authentication)
# ---------------------------------------------------------------------------
PRIVATEGPT_PORT=8001

# ============================================================================
# SECTION 6: PRODUCTIVITY SERVICES
# ============================================================================

# ---------------------------------------------------------------------------
# NocoDB - No-Code Database
# ---------------------------------------------------------------------------
# Admin credentials (auto-created on first start)
NOCODB_ADMIN_EMAIL=${DEFAULT_ADMIN_EMAIL}
NOCODB_ADMIN_PASSWORD=${DEFAULT_ADMIN_PASSWORD}

# Database
NOCODB_DB_NAME=nocodb_db
NOCODB_DB_USER=${DEFAULT_DB_USER}
NOCODB_DB_PASS=                                  # <GENERATE> openssl rand -hex 32

# Security Keys
NOCODB_JWT_SECRET=                               # <GENERATE> openssl rand -hex 64
NOCODB_AUTH_JWT_SECRET=                          # <GENERATE> openssl rand -hex 64

# Server
NOCODB_PORT=8084
NOCODB_MEMORY_LIMIT=1g                           # Memory limit for container

# ---------------------------------------------------------------------------
# Paperless-ngx - Document Management
# ---------------------------------------------------------------------------
# Admin credentials (auto-created on first start)
PAPERLESS_ADMIN_USER=${DEFAULT_ADMIN_USER}
PAPERLESS_ADMIN_PASSWORD=${DEFAULT_ADMIN_PASSWORD}
PAPERLESS_ADMIN_EMAIL=${DEFAULT_ADMIN_EMAIL}

# Database
PAPERLESS_DB_NAME=paperless_db
PAPERLESS_DB_USER=${DEFAULT_DB_USER}
PAPERLESS_DB_PASS=                               # <GENERATE> openssl rand -hex 32

# Security
PAPERLESS_SECRET_KEY=                            # <GENERATE> openssl rand -hex 64

# Server
PAPERLESS_PORT=8093
PAPERLESS_MEMORY_LIMIT=2g

# ---------------------------------------------------------------------------
# N8N - Workflow Automation
# ---------------------------------------------------------------------------
# Authentication disabled by default - enable if needed
N8N_BASIC_AUTH_ACTIVE=false
# N8N_BASIC_AUTH_USER=${DEFAULT_ADMIN_USER}
# N8N_BASIC_AUTH_PASSWORD=${DEFAULT_ADMIN_PASSWORD}

# Database
N8N_DB_NAME=n8n_db
N8N_DB_USER=${DEFAULT_DB_USER}
N8N_DB_PASS=                                     # <GENERATE> openssl rand -hex 32

# Security
N8N_ENCRYPTION_KEY=                              # <GENERATE> openssl rand -hex 32

# Server
N8N_PORT=5678

# ---------------------------------------------------------------------------
# Activepieces - Automation Platform
# ---------------------------------------------------------------------------
# Database
ACTIVEPIECES_DB_NAME=activepieces_db
ACTIVEPIECES_DB_USER=${DEFAULT_DB_USER}
ACTIVEPIECES_DB_PASS=                            # <GENERATE> openssl rand -hex 32

# Security (MUST be exactly 32 hex characters)
ACTIVEPIECES_ENCRYPTION_KEY=                     # <GENERATE> openssl rand -hex 16 (16 bytes = 32 hex chars)
ACTIVEPIECES_JWT_SECRET=                         # <GENERATE> openssl rand -hex 64

# Server
ACTIVEPIECES_PORT=5680

# ---------------------------------------------------------------------------
# Postiz - Social Media Management
# ---------------------------------------------------------------------------
# Admin credentials
POSTIZ_ADMIN_EMAIL=${DEFAULT_ADMIN_EMAIL}
POSTIZ_ADMIN_PASSWORD=${DEFAULT_ADMIN_PASSWORD}

# Database
POSTIZ_DB_NAME=postiz_db
POSTIZ_DB_USER=${DEFAULT_DB_USER}
POSTIZ_DB_PASS=                                  # <GENERATE> openssl rand -hex 32

# Security
POSTIZ_NEXTAUTH_SECRET=                          # <GENERATE> openssl rand -hex 64
POSTIZ_JWT_SECRET=                               # <GENERATE> openssl rand -hex 64

# Server
POSTIZ_PORT=5001

# ---------------------------------------------------------------------------
# Docmost - Documentation Platform
# ---------------------------------------------------------------------------
# First-time setup: Visit http://docmost.lab to create admin account
# Database
DOCMOST_DB_NAME=docmost_db
DOCMOST_DB_USER=${DEFAULT_DB_USER}
DOCMOST_DB_PASS=                                 # <GENERATE> openssl rand -hex 32

# Security
DOCMOST_SECRET=                                  # <GENERATE> openssl rand -hex 64

# Server
DOCMOST_PORT=3005

# ---------------------------------------------------------------------------
# Focalboard - Project Management
# ---------------------------------------------------------------------------
# First-time setup: Visit http://focalboard.lab
# First user signup becomes admin
FOCALBOARD_PORT=8000

# ---------------------------------------------------------------------------
# Trilium - Note Taking
# ---------------------------------------------------------------------------
# First-time setup: Visit http://trilium.lab to set password
TRILIUM_PORT=8088

# ---------------------------------------------------------------------------
# Vikunja - Task Management
# ---------------------------------------------------------------------------
# First-time setup: Visit http://vikunja.lab
# First user registration becomes admin
VIKUNJA_JWT_SECRET=                              # <GENERATE> openssl rand -hex 64
VIKUNJA_PORT=3456

# ---------------------------------------------------------------------------
# IT-Tools - Developer Utilities (no authentication)
# ---------------------------------------------------------------------------
# Uses Traefik auth for external access only
IT_TOOLS_PORT=8083

# ---------------------------------------------------------------------------
# Excalidraw - Diagramming Tool (no authentication)
# ---------------------------------------------------------------------------
# Uses Traefik auth for external access only
EXCALIDRAW_PORT=8085

# ---------------------------------------------------------------------------
# FileBrowser - Web File Manager
# ---------------------------------------------------------------------------
FILEBROWSER_PORT=8096
# Username: admin | Password: Uses DEFAULT_ADMIN_PASSWORD
FILEBROWSER_MEMORY_LIMIT=256m

# ---------------------------------------------------------------------------
# Hoarder (Karakeep) - Bookmark Manager
# ---------------------------------------------------------------------------
# First-time setup: Visit http://hoarder.lab for setup wizard
HOARDER_VERSION=release
HOARDER_NEXTAUTH_SECRET=                         # <GENERATE> openssl rand -hex 64
HOARDER_MEILI_MASTER_KEY=                        # <GENERATE> openssl rand -hex 32
HOARDER_PORT=3002

# ---------------------------------------------------------------------------
# ByteStash - Code Snippet Manager
# ---------------------------------------------------------------------------
# First-time setup: Visit http://bytestash.lab
BYTESTASH_JWT_SECRET=                            # <GENERATE> openssl rand -hex 64
BYTESTASH_PORT=3004

# ---------------------------------------------------------------------------
# ResourceSpace - Digital Asset Management
# ---------------------------------------------------------------------------
# Database
RESOURCESPACE_DB_NAME=resourcespace_db
RESOURCESPACE_DB_USER=resourcespace
RESOURCESPACE_DB_PASS=                           # <GENERATE> openssl rand -hex 32
RESOURCESPACE_DB_ROOT_PASSWORD=                  # <GENERATE> openssl rand -hex 32

# Server
RESOURCESPACE_PORT=8087

# ============================================================================
# SECTION 7: PERSONAL SERVICES
# ============================================================================

# ---------------------------------------------------------------------------
# Immich - Photo & Video Management
# ---------------------------------------------------------------------------
# First-time setup: Visit http://immich.lab to create admin account

# Database
IMMICH_DB_NAME=immich
IMMICH_DB_USER=immich
IMMICH_DB_PASSWORD=                              # <GENERATE> openssl rand -hex 32

# Features
IMMICH_MEDIA_IMAGEMAGICK_HEIC=true               # Enable HEIC support

# Version & Performance
IMMICH_VERSION=release
IMMICH_PORT=2283
IMMICH_MEMORY_LIMIT=2g
IMMICH_ML_MEMORY_LIMIT=4g

# ---------------------------------------------------------------------------
# Mealie - Recipe Manager
# ---------------------------------------------------------------------------
# First-time setup: Visit http://mealie.lab
# First user signup becomes admin
MEALIE_PORT=9925
MEALIE_MEMORY_LIMIT=512m

# ---------------------------------------------------------------------------
# Firefly III - Personal Finance
# ---------------------------------------------------------------------------
# First-time setup: Visit http://firefly.lab to create account
FIREFLY_APP_KEY=                                 # <GENERATE> openssl rand -base64 32
FIREFLY_PORT=8086
FIREFLY_MEMORY_LIMIT=512m

# ---------------------------------------------------------------------------
# wger - Workout & Fitness Tracker
# ---------------------------------------------------------------------------
# First-time setup: Visit http://wger.lab to register
WGER_SECRET_KEY=                                 # <GENERATE> openssl rand -hex 64
WGER_PORT=8089
WGER_MEMORY_LIMIT=512m

# ============================================================================
# SECTION 8: MEDIA SERVICES
# ============================================================================

# ---------------------------------------------------------------------------
# Kavita - eBook & Manga Reader
# ---------------------------------------------------------------------------
# First-time setup: Visit http://kavita.lab to create admin account
KAVITA_PORT=5000
KAVITA_DOMAIN=kavita.${BASE_DOMAIN}
KAVITA_MEMORY_LIMIT=512m

# ---------------------------------------------------------------------------
# Navidrome - Music Streaming Server
# ---------------------------------------------------------------------------
# First-time setup: Visit http://navidrome.lab to create admin account
NAVIDROME_PORT=4533
NAVIDROME_DOMAIN=music.${BASE_DOMAIN}
NAVIDROME_MEMORY_LIMIT=512m

# NOTE: Credentials stored in database after first-time setup
# Current admin (if previously configured):
# NAVIDROME_USER=jessefreeman
# NAVIDROME_PASSWORD=navidrome2024

# ============================================================================
# SECTION 9: AUTOMATION SERVICES
# ============================================================================

# ---------------------------------------------------------------------------
# Home Assistant - Home Automation Platform
# ---------------------------------------------------------------------------
# First-time setup: Visit http://homeassistant.lab for setup wizard
HOMEASSISTANT_PORT=8123

# ---------------------------------------------------------------------------
# Node-RED - Flow-Based Automation
# ---------------------------------------------------------------------------
# No authentication by default (can enable in settings)
NODERED_PORT=1880

# ============================================================================
# SECTION 10: DEVELOPMENT SERVICES
# ============================================================================

# ---------------------------------------------------------------------------
# Coder - Cloud Development Environments
# ---------------------------------------------------------------------------
# First-time setup: Visit http://coder.lab:7080 to create admin account

# Access Configuration
CODER_HTTP_ADDRESS=0.0.0.0:7080
CODER_HTTP_PORT=7080
CODER_ACCESS_URL=http://${HOST_IP}:7080
CODER_HOSTNAME=coder

# Database (PostgreSQL)
POSTGRES_USER=admin
POSTGRES_PASSWORD=                               # <GENERATE> openssl rand -hex 32
POSTGRES_DB=coder

# ---------------------------------------------------------------------------
# Gitea - Git Service
# ---------------------------------------------------------------------------
# First-time setup: Visit http://gitea.lab for installation wizard

# Database
GITEA_DBNAME=gitea
GITEA_DBUSER=${DEFAULT_DB_USER}
GITEA_DBPASS=                                    # <GENERATE> openssl rand -hex 32

# Security Keys
GITEA_SECRET_KEY=                                # <GENERATE> openssl rand -hex 64
GITEA_INTERNAL_TOKEN=                            # <GENERATE> openssl rand -hex 105 (special: longer token)
GITEA_JWT_SECRET=                                # <GENERATE> openssl rand -hex 64

# Server
GITEA_PORT=3006
GITEA_SSH_PORT=222
GITEA_ACTIONS_ENABLED=false                      # Enable/disable GitHub Actions-like CI/CD
GITEA_MEMORY_LIMIT=2g                            # Memory limit for container

# ---------------------------------------------------------------------------
# GitLab - DevOps Platform
# ---------------------------------------------------------------------------
# First-time setup: Root password shown in logs on first start
# Can set via: GITLAB_ROOT_PASSWORD
# GITLAB_ROOT_PASSWORD=${DEFAULT_ADMIN_PASSWORD}   # Uncomment to set root password

GITLAB_PORT=8091
GITLAB_SSH_PORT=2224
GITLAB_HTTP_PORT_EXTERNAL=88
GITLAB_MEMORY_LIMIT=4g

# ---------------------------------------------------------------------------
# Guacamole - Remote Desktop Gateway
# ---------------------------------------------------------------------------
# First-time setup: Visit http://guacamole.lab
# Default login: guacadmin / guacadmin (CHANGE IMMEDIATELY!)

# Database
GUACAMOLE_DB_NAME=guacamole_db
GUACAMOLE_DB_USER=${DEFAULT_DB_USER}
GUACAMOLE_DB_PASS=                               # <GENERATE> openssl rand -hex 32

# Server
GUACAMOLE_PORT=8090

# ---------------------------------------------------------------------------
# Docker Registry - Container Image Registry (no authentication)
# ---------------------------------------------------------------------------
REGISTRY_PORT=5000
REGISTRY_CACHE_PORT=5001

# ============================================================================
# SECTION 11: MONITORING SERVICES
# ============================================================================

# ---------------------------------------------------------------------------
# Cockpit - System Administration (uses SSH authentication)
# ---------------------------------------------------------------------------
COCKPIT_PORT=9090

# ---------------------------------------------------------------------------
# Dozzle - Docker Log Viewer (no authentication)
# ---------------------------------------------------------------------------
DOZZLE_PORT=9999

# ---------------------------------------------------------------------------
# WUD (What's Up Docker) - Container Update Monitor
# ---------------------------------------------------------------------------
WUD_AUTH_USER=admin
WUD_AUTH_PASSWORD=${DEFAULT_ADMIN_PASSWORD}
WUD_PORT=3000

# ---------------------------------------------------------------------------
# Speedtest Tracker - Internet Speed Monitor
# ---------------------------------------------------------------------------
# First-time setup: Default login shown in container docs
# Default: admin@example.com / password
SPEEDTEST_PORT=8765
SPEEDTEST_TRACKER_API_TOKEN=                     # <GENERATE> openssl rand -hex 32

# ---------------------------------------------------------------------------
# Uptime Kuma - Uptime Monitoring
# ---------------------------------------------------------------------------
# First-time setup: Visit http://uptime.lab
# First user signup becomes admin
UPTIME_KUMA_PORT=3001

# ---------------------------------------------------------------------------
# Netdata - Real-time Performance Monitoring (no authentication)
# ---------------------------------------------------------------------------
NETDATA_PORT=19999

# ---------------------------------------------------------------------------
# Duplicati - Backup Solution
# ---------------------------------------------------------------------------
# First-time setup: Visit http://duplicati.lab to set password
DUPLICATI_PORT=8200

# ---------------------------------------------------------------------------
# Portainer - Container Management
# ---------------------------------------------------------------------------
# First-time setup: Visit http://portainer.lab:9443
# Create admin user on first access
PORTAINER_HTTPS_PORT=9443
PORTAINER_HTTP_PORT=9000

# ---------------------------------------------------------------------------
# NetBox - Infrastructure Documentation
# ---------------------------------------------------------------------------
# Superuser credentials (auto-created on first start)
NETBOX_SUPERUSER=admin
NETBOX_SUPERUSER_EMAIL=admin@example.com
NETBOX_SUPERUSER_PASSWORD=${DEFAULT_ADMIN_PASSWORD}

# Database
NETBOX_DB_PASSWORD=                              # <GENERATE> openssl rand -hex 32

# Security
NETBOX_SECRET_KEY=                               # <GENERATE> openssl rand -hex 64

# Server
NETBOX_PORT=8092

# ============================================================================
# SECTION 12: NETWORKING SERVICES
# ============================================================================

# ---------------------------------------------------------------------------
# Traefik - Reverse Proxy & Load Balancer
# ---------------------------------------------------------------------------
# Dashboard: http://traefik.lab:8081 (insecure mode for local access)
TRAEFIK_HTTP_PORT=80
TRAEFIK_HTTPS_PORT=443
TRAEFIK_DASHBOARD_PORT=8081

# ---------------------------------------------------------------------------
# Pi-hole - Network-wide Ad Blocking & DNS
# ---------------------------------------------------------------------------
# Web interface password
PIHOLE_WEBPASSWORD=                              # <GENERATE> openssl rand -hex 32

# Server
PIHOLE_DNS_PORT=53
PIHOLE_PORT_WEB=8091

# ---------------------------------------------------------------------------
# Cloudflare Tunnel - Secure External Access
# ---------------------------------------------------------------------------
# Setup via: ./setup.sh (interactive Cloudflare wizard) or https://one.dash.cloudflare.com/
# Configure tunnel credentials in config/cloudflare/
CLOUDFLARE_TUNNEL_ENABLED=false                  # Set to true after tunnel setup
CLOUDFLARE_TUNNEL_NAME=                          # Tunnel name (e.g., weekendstack-tunnel)
CLOUDFLARE_TUNNEL_ID=                            # <CUSTOMIZE> Your tunnel ID (UUID)
CLOUDFLARE_ACCOUNT_ID=                           # <CUSTOMIZE> Your Cloudflare account ID
CLOUDFLARE_API_KEY=                              # <CUSTOMIZE> Your API key (if needed)
CLOUDFLARE_CONFIG_FILE=./config/cloudflare/config.yml
CLOUDFLARE_CREDENTIALS_DIR=./config/cloudflare/.cloudflared

# ---------------------------------------------------------------------------
# Error Pages - Custom Error Page Server (no authentication)
# ---------------------------------------------------------------------------
ERROR_PAGES_PORT=8888

# ============================================================================
# SECTION 13: GPU SERVICES (Optional)
# ============================================================================
# Configure if you have an NVIDIA GPU for AI acceleration
# The setup script will auto-detect GPU and set GPU_ENABLED=true

# GPU Feature Toggle (set by setup.sh or manually)
GPU_ENABLED=false                                # Set to true if you have NVIDIA GPU

# GPU Configuration (uncomment if GPU_ENABLED=true)
# GPU_COUNT=1                                     # Number of GPUs to use
# NVIDIA_VISIBLE_DEVICES=all                      # Which GPUs to expose
# NVIDIA_DRIVER_CAPABILITIES=compute,utility      # Driver capabilities

# Ollama GPU Configuration
OLLAMA_GPU_ENABLED=false                         # Use GPU-accelerated Ollama (requires GPU_ENABLED=true)

# GPU Memory Limits
# GPU_OLLAMA_MEMORY_LIMIT=16g
# IMMICH_ML_GPU_MEMORY_LIMIT=8g

# ============================================================================
# SECTION 14: SERVICE INTEGRATIONS & API KEYS
# ============================================================================
# Optional integrations for enhanced functionality

# Immich Integration (for Glance dashboard)
IMMICH_URL=http://immich-server:2283
IMMICH_API_KEY=                                  # Generate in Immich: Settings → API Keys

# Paperless Integration (for Glance dashboard)
PAPERLESS_URL=http://paperless-ngx:8000
PAPERLESS_API_KEY=                               # Generate in Paperless: Settings → API Keys

# Speedtest Tracker Integration (for Glance dashboard)
SPEEDTEST_URL=http://speedtest-tracker:80
# SPEEDTEST_TRACKER_API_TOKEN is defined in Section 11

# WUD Integration (for Glance dashboard)
WUD_URL=http://wud:3000
# WUD_AUTH_USER and WUD_AUTH_PASSWORD are defined in Section 11

# ============================================================================
# SECTION 15: FIRST-TIME SETUP REFERENCE GUIDE
# ============================================================================
# Services requiring web-based setup after deployment.
# Save this checklist for initial configuration!
#
# ENV-BASED (Login with configured credentials):
# ✓ NocoDB:         http://nocodb.lab              → ${DEFAULT_ADMIN_EMAIL}
# ✓ Paperless:      http://paperless.lab           → ${DEFAULT_ADMIN_USER}
# ✓ Immich:         http://immich.lab              → Create first account
# ✓ NetBox:         http://netbox.lab              → ${NETBOX_SUPERUSER}
# ✓ WUD:            http://wud.lab                 → admin
#
# FIRST-TIME SETUP REQUIRED (Visit to complete):
# ○ Open WebUI:     http://open-webui.lab          → First signup = admin
# ○ AnythingLLM:    http://anythingllm.lab         → Setup wizard
# ○ LibreChat:      http://librechat.lab           → Registration enabled
# ○ Vaultwarden:    http://vault.lab               → First signup
# ○ Mealie:         http://mealie.lab              → First signup
# ○ Firefly:        http://firefly.lab             → Create account
# ○ wger:           http://wger.lab                → Registration enabled
# ○ Kavita:         http://kavita.lab              → Create admin
# ○ Navidrome:      http://navidrome.lab           → Create admin
# ○ FileBrowser:    http://filebrowser.lab         → admin / <see logs>
# ○ Home Assistant: http://homeassistant.lab       → Setup wizard
# ○ Uptime Kuma:    http://uptime.lab              → First signup
# ○ Portainer:      http://portainer.lab:9443      → Create admin
# ○ GitLab:         http://gitlab.lab              → root / <see logs>
# ○ Guacamole:      http://guacamole.lab           → guacadmin / guacadmin (CHANGE!)
# ○ Focalboard:     http://focalboard.lab          → First signup
# ○ Trilium:        http://trilium.lab             → Set password
# ○ Vikunja:        http://vikunja.lab             → First signup
# ○ Docmost:        http://docmost.lab             → Create admin
# ○ Coder:          http://coder.lab:7080          → Create admin
# ○ Gitea:          http://gitea.lab               → Installation wizard
# ○ Duplicati:      http://duplicati.lab           → Set password
#
# NO AUTHENTICATION:
# • Glance:         http://glance.lab              → Dashboard (public)
# • IT-Tools:       http://it-tools.lab            → Utilities (Traefik auth external)
# • Excalidraw:     http://excalidraw.lab          → Diagrams (Traefik auth external)
# • Dozzle:         http://dozzle.lab              → Logs (public local)
# • Netdata:        http://netdata.lab             → Metrics (public local)
# • Traefik:        http://traefik.lab:8081        → Dashboard (insecure mode)
# • Ollama:         http://ollama.lab:11434        → API service
# • LocalAI:        http://localai.lab             → API service
# ============================================================================

# END OF CONFIGURATION
# After completing setup, validate with: ./tools/validate-env.sh
