# =============================================================================
# WEEKENDSTACK - COMPLETE CONFIGURATION TEMPLATE
# =============================================================================
# Copy this file to .env and customize as needed
# Generate secure passwords with: openssl rand -hex 32
#
# Services are organized into profiles:
# - core: Homer, Traefik, Cloudflare Tunnel
# - dev: Coder, Gitea, GitLab
# - ai: Open WebUI, SearXNG
# - productivity: n8n, Paperless, NocoDB, Activepieces, Focalboard, Trilium, Vikunja, Vaultwarden
# - automation: Home Assistant, Node-RED
# - media: Immich, Kavita, Navidrome
# - personal: Mealie, Firefly III, wger
# - monitoring: Dozzle, Watchtower, Uptime Kuma, Netdata, Duplicati, Portainer
# - networking: Pi-Hole
#
# Start specific profiles: docker compose --profile dev --profile ai up -d
# Start all services: docker compose --profile all up -d

COMPUTER_NAME=dev-workstation
COMPUTER_TYPE=workstation

# Default profile selection
COMPOSE_PROFILES=all

# =============================================================================
# SYSTEM CONFIGURATION (REQUIRED)
# =============================================================================

# Network Configuration
BASE_DOMAIN=localhost
HOST_IP=192.168.1.50

# Timezone
TZ=America/New_York
TIMEZONE=UTC
PUID=1000
PGID=1000

# Storage Paths
FILES_BASE_DIR=./files
CONFIG_BASE_DIR=./config
WORKSPACE_DIR=/mnt/workspace
SSH_KEY_DIR=./files/ssh

# =============================================================================
# CORE SERVICES
# =============================================================================

# Coder - Development Platform
CODER_HTTP_ADDRESS=0.0.0.0:7080
CODER_HTTP_PORT=7080
CODER_DOMAIN=coder.${BASE_DOMAIN}
CODER_MEMORY_LIMIT=2g
CODER_TEMPLATE_DIR=${FILES_BASE_DIR}/coder/templates

# PostgreSQL (Coder Database)
POSTGRES_USER=coder_admin
POSTGRES_PASSWORD=secure_password_change_me
POSTGRES_DB=coder
POSTGRES_MEMORY_LIMIT=1g

# Homer - Service Dashboard
HOMER_PORT=8080
HOMER_DOMAIN=dashboard.${BASE_DOMAIN}
HOMER_MEMORY_LIMIT=128m

# =============================================================================
# PROXY & NETWORKING
# =============================================================================

# Traefik - Reverse Proxy
TRAEFIK_HTTP_PORT=80
TRAEFIK_HTTPS_PORT=443
TRAEFIK_DASHBOARD_PORT=8083
TRAEFIK_DASHBOARD_ENABLED=true
TRAEFIK_LOG_LEVEL=INFO
TRAEFIK_CONFIG_FILE=${CONFIG_BASE_DIR}/traefik/config.yml
TRAEFIK_AUTH_DIR=${CONFIG_BASE_DIR}/traefik/auth
ACME_EMAIL=admin@localhost

# Cloudflare Tunnel
TUNNEL_NAME=cloudflare-tunnel
TUNNEL_CREDENTIALS_FILE=your-tunnel-id.json
CLOUDFLARE_CONFIG_FILE=${CONFIG_BASE_DIR}/cloudflare/config.yml
CLOUDFLARE_CREDENTIALS_DIR=${CONFIG_BASE_DIR}/cloudflare/.cloudflared

# Pi-Hole - Network Ad Blocking
PIHOLE_PORT_WEB=8088
PIHOLE_PORT_DNS=5353
PIHOLE_WEBPASSWORD=pihole-admin-change-me
PIHOLE_DNS1=1.1.1.1
PIHOLE_DNS2=1.0.0.1
PIHOLE_MEMORY_LIMIT=512m

# =============================================================================
# DEVELOPMENT SERVICES
# =============================================================================

# Gitea - Git Repository
GITEA_PORT=7001
GITEA_SSH_PORT=2222
GITEA_DOMAIN=gitea.${BASE_DOMAIN}
GITEA_SECRET_KEY=gitea-secret-key-change-me
GITEA_INTERNAL_TOKEN=gitea-internal-token-change-me
GITEA_JWT_SECRET=gitea-jwt-secret-change-me
GITEA_ACTIONS_ENABLED=true
GITEA_DBNAME=gitea
GITEA_DBUSER=gitea
GITEA_DBPASS=gitea_db_password_change_me
GITEA_DATA_DIR=${FILES_BASE_DIR}/gitea/app
GITEA_MEMORY_LIMIT=2g

# GitLab CE - Full DevOps Platform
GITLAB_HTTP_PORT=8929
GITLAB_SSH_PORT=2224
GITLAB_DOMAIN=gitlab.${BASE_DOMAIN}
GITLAB_CONFIG_DIR=./files/gitlab/config
GITLAB_LOGS_DIR=./files/gitlab/logs
GITLAB_DATA_DIR=./files/gitlab/data
GITLAB_MEMORY_LIMIT=4g

# Docker Registry
REGISTRY_PORT=5001
REGISTRY_DOMAIN=registry.${BASE_DOMAIN}
REGISTRY_DATA_DIR=${FILES_BASE_DIR}/registry/cache

# =============================================================================
# AI SERVICES
# =============================================================================

# Open WebUI - AI Chat Interface (connects to Ollama)
OPENWEBUI_PORT=3000
OPENWEBUI_DOMAIN=chat.${BASE_DOMAIN}
WEBUI_SECRET_KEY=secure-chat-key-change-me
OLLAMA_HOST=http://host.docker.internal:11434
OPENWEBUI_MEMORY_LIMIT=2g

# SearXNG - Private Search Engine
SEARXNG_PORT=4000
SEARXNG_DOMAIN=search.${BASE_DOMAIN}
SEARXNG_SECRET_KEY=searxng-secret-key-change-me
SEARXNG_SECRET=searxng-secret-key-change-me
SEARXNG_AUTH_ENABLE=true
SEARXNG_AUTH_USER=searx
SEARXNG_AUTH_PASSWORD=searxng-password-change-me
SEARXNG_MEMORY_LIMIT=1g

# =============================================================================
# PRODUCTIVITY SERVICES
# =============================================================================

# n8n - Workflow Automation
N8N_PORT=5678
N8N_DOMAIN=n8n.${BASE_DOMAIN}
N8N_PROTOCOL=http
N8N_METRICS_ENABLE=true
N8N_DIAGNOSTICS_ENABLE=false
N8N_DBNAME=n8n
N8N_DBUSER=n8n
N8N_DBPASS=n8n_password_change_me
N8N_SECURE_COOKIE=false
N8N_MEMORY_LIMIT=2g

# Paperless-ngx - Document Management
PAPERLESS_PORT=8082
PAPERLESS_DOMAIN=paperless.${BASE_DOMAIN}
PAPERLESS_PROTOCOL=https
PAPERLESS_ADMIN_USER=admin
PAPERLESS_ADMIN_PASSWORD=secure_paperless_password_change_me
PAPERLESS_SECRET_KEY=paperless-secret-key-change-me
PAPERLESS_REDIS_HOST=paperless-redis
PAPERLESS_DBHOST=paperless-db
PAPERLESS_DBNAME=paperless
PAPERLESS_DBUSER=paperless
PAPERLESS_DBPASS=paperless_db_password_change_me
PAPERLESS_ALLOWED_HOSTS=*
PAPERLESS_MEMORY_LIMIT=2g

# NocoDB - Database Management (Airtable Alternative)
NOCODB_PORT=8090
NOCODB_DOMAIN=nocodb.${BASE_DOMAIN}
NOCODB_JWT_SECRET=nocodb-jwt-secret-change-me
NOCODB_AUTH_JWT_SECRET=nocodb-auth-jwt-secret-change-me
NOCODB_ADMIN_PASSWORD=secure_nocodb_password_change_me
NOCODB_DBNAME=nocodb
NOCODB_DBUSER=nocodb
NOCODB_DBPASS=nocodb_password_change_me
NOCODB_MEMORY_LIMIT=2g

# Activepieces - Workflow Automation
ACTIVEPIECES_PORT=8087
ACTIVEPIECES_DOMAIN=activepieces.${BASE_DOMAIN}
# Generate with: openssl rand -hex 16
ACTIVEPIECES_ENCRYPTION_KEY=0123456789abcdef0123456789abcdef
# Generate with: openssl rand -hex 32
ACTIVEPIECES_JWT_SECRET=0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef
ACTIVEPIECES_DBNAME=activepieces
ACTIVEPIECES_DBUSER=activepieces
ACTIVEPIECES_DBPASS=activepieces_password_change_me
ACTIVEPIECES_MEMORY_LIMIT=2g

# Focalboard - Project Management (Trello/Notion Alternative)
FOCALBOARD_PORT=8097
FOCALBOARD_DOMAIN=focalboard.${BASE_DOMAIN}
FOCALBOARD_MEMORY_LIMIT=512m

# Trilium - Hierarchical Note Taking
TRILIUM_PORT=8085
TRILIUM_DOMAIN=trilium.${BASE_DOMAIN}
TRILIUM_MEMORY_LIMIT=512m

# Vikunja - Task Management (Todoist Alternative)
VIKUNJA_PORT=3456
VIKUNJA_DOMAIN=vikunja.${BASE_DOMAIN}
VIKUNJA_JWT_SECRET=vikunja-jwt-secret-change-me
VIKUNJA_MEMORY_LIMIT=256m

# Vaultwarden - Password Manager (Bitwarden Compatible)
# NOTE: Requires HTTPS - only accessible via Cloudflare tunnel
VAULTWARDEN_PORT=8222
VAULTWARDEN_DOMAIN=vault.${BASE_DOMAIN}
VAULTWARDEN_SIGNUPS_ALLOWED=true
VAULTWARDEN_ADMIN_TOKEN=
VAULTWARDEN_MEMORY_LIMIT=256m

# Postiz - Social Media Management
POSTIZ_PORT=8095
POSTIZ_DOMAIN=postiz.${BASE_DOMAIN}
POSTIZ_NEXTAUTH_SECRET=postiz-nextauth-secret-change-me
POSTIZ_JWT_SECRET=postiz-jwt-secret-change-me
POSTIZ_ADMIN_EMAIL=admin@example.com
POSTIZ_ADMIN_PASSWORD=secure_postiz_password_change_me
POSTIZ_DBNAME=postiz
POSTIZ_DBUSER=postiz
POSTIZ_DBPASS=postiz_password_change_me
POSTIZ_MEMORY_LIMIT=2g

# =============================================================================
# AUTOMATION SERVICES
# =============================================================================

# Home Assistant - Smart Home Automation
HOMEASSISTANT_PORT=8123
HOMEASSISTANT_DOMAIN=home.${BASE_DOMAIN}
HOMEASSISTANT_MEMORY_LIMIT=2g

# Node-RED - Flow-based Programming
NODERED_PORT=1880
NODERED_DOMAIN=nodered.${BASE_DOMAIN}
NODERED_MEMORY_LIMIT=512m

# =============================================================================
# MEDIA SERVICES
# =============================================================================

# Immich - Photo & Video Management (Google Photos Alternative)
IMMICH_VERSION=release
IMMICH_PORT=2283
IMMICH_DOMAIN=immich.${BASE_DOMAIN}
IMMICH_DB_USER=immich
IMMICH_DB_PASSWORD=immich_password_change_me
IMMICH_DB_NAME=immich
IMMICH_MEMORY_LIMIT=2g
IMMICH_ML_MEMORY_LIMIT=4g

# Kavita - eBook/Manga/Comic Reader
KAVITA_PORT=5000
KAVITA_DOMAIN=kavita.${BASE_DOMAIN}
KAVITA_LIBRARY_PATH=./files/kavita/library
KAVITA_MEMORY_LIMIT=512m

# Navidrome - Music Streaming Server (Spotify Alternative)
NAVIDROME_PORT=4533
NAVIDROME_DOMAIN=music.${BASE_DOMAIN}
NAVIDROME_MUSIC_PATH=./files/navidrome/music
NAVIDROME_MEMORY_LIMIT=512m

# =============================================================================
# PERSONAL SERVICES
# =============================================================================

# Mealie - Meal Planning & Recipe Manager
MEALIE_PORT=9925
MEALIE_DOMAIN=mealie.${BASE_DOMAIN}
MEALIE_MEMORY_LIMIT=512m

# Firefly III - Personal Finance Manager
FIREFLY_PORT=8086
FIREFLY_DOMAIN=firefly.${BASE_DOMAIN}
# Must be exactly 32 characters
FIREFLY_APP_KEY=SomeRandomStringOf32CharsExactly
FIREFLY_MEMORY_LIMIT=512m

# wger - Workout & Fitness Tracker
WGER_PORT=8089
WGER_DOMAIN=wger.${BASE_DOMAIN}
WGER_SECRET_KEY=wger-secret-key-change-me
WGER_MEMORY_LIMIT=512m

# =============================================================================
# MONITORING SERVICES
# =============================================================================

# Dozzle - Real-time Docker Log Viewer
DOZZLE_PORT=9999
DOZZLE_DOMAIN=dozzle.${BASE_DOMAIN}

# Uptime Kuma - Service Monitoring
UPTIME_KUMA_PORT=3001
UPTIME_KUMA_DOMAIN=uptime.${BASE_DOMAIN}

# Netdata - System Monitoring
NETDATA_PORT=19999
NETDATA_DOMAIN=netdata.${BASE_DOMAIN}
NETDATA_CLAIM_TOKEN=
NETDATA_CLAIM_URL=https://app.netdata.cloud
NETDATA_CLAIM_ROOMS=

# Duplicati - Backup Solution
DUPLICATI_PORT=8200
DUPLICATI_DOMAIN=duplicati.${BASE_DOMAIN}
DUPLICATI_ENCRYPTION_KEY=duplicati-encryption-key-change-me

# Portainer - Container Management UI
PORTAINER_PORT=9443
PORTAINER_DOMAIN=portainer.${BASE_DOMAIN}

# Watchtower - Automatic Container Updates
# Runs silently in background, checks every 24 hours
WATCHTOWER_NOTIFICATION_URL=
