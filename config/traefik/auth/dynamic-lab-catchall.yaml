http:
  # HTTP to HTTPS redirect middleware
  middlewares:
    redirect-to-https:
      redirectScheme:
        scheme: https
        permanent: false

  # Lab catchall redirect is disabled - unknown .lab routes now show custom 404 pages
  # instead of redirecting to glance.lab
  # middlewares:
  #   lab-catchall-redirect:
  #     redirectRegex:
  #       regex: "^https?://[^/]+(.*)$"
  #       replacement: "http://glance.lab$1"
  #       permanent: false

  # routers:
  #   lab-catchall:
  #     entryPoints:
  #       - web
  #     rule: "HostRegexp(`^[A-Za-z0-9-]+\\.lab$`) && !Host(`glance.lab`)"
  #     middlewares:
  #       - lab-catchall-redirect
  #     service: noop@internal
  #     priority: 1
