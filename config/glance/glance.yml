server:
  port: 8080
  proxied: true
  allow-potentially-dangerous-html: true

branding:
  hide-footer: true
  app-name: "Weekend Stack"

pages:
  - name: Home
    slug: home
    width: slim
    hide-desktop-navigation: true
    center-vertically: true
    columns:
      - size: full
        widgets:
          - type: search
            autofocus: true

          - type: monitor
            cache: 1m
            title: Core Services
            sites:
              - title: Coder
                url: /go/coder
                check-url: http://${HOST_IP}:7080
                icon: si:coder
              - title: Gitea
                url: /go/gitea
                check-url: http://${HOST_IP}:7000
                icon: si:gitea
              - title: NocoDB
                url: /go/nocodb
                check-url: http://${HOST_IP}:7011
                icon: si:airtable
              - title: Paperless
                url: /go/paperless
                check-url: http://${HOST_IP}:8082
                icon: si:docker
              - title: Traefik
                url: /go/traefik
                check-url: http://${HOST_IP}:80
                icon: si:traefikproxy

          - type: bookmarks
            groups:
              - title: Categories
                links:
                  - title: AI Services
                    url: /ai
                  - title: Automation
                    url: /automation
                  - title: Dev Tools
                    url: /dev
                  - title: Monitoring
                    url: /monitoring
                  - title: Personal
                    url: /personal
                  - title: Productivity
                    url: /productivity
              - title: Quick Links
                links:
                  - title: GitLab
                    url: /go/gitlab
                  - title: ByteStash
                    url: /go/bytestash
                  - title: IT-Tools
                    url: /go/ittools
              - title: Productivity
                links:
                  - title: n8n
                    url: /go/n8n
                  - title: Vikunja
                    url: /go/vikunja
                  - title: Trilium
                    url: /go/trilium
                  - title: Focalboard
                    url: /go/focalboard

  - name: Services
    slug: services
    head-widgets:
      - type: monitor
        cache: 1m
        title: Monitoring Services
        sites:
          - title: Cockpit
            url: /go/cockpit
            check-url: http://${HOST_IP}:80
            icon: si:cockpit
          - title: Dozzle
            url: /go/dozzle
            check-url: http://${HOST_IP}:9999
            icon: si:docker
          - title: NetData
            url: /go/netdata
            check-url: http://${HOST_IP}:19999
            icon: si:netdata
          - title: Portainer
            url: /go/portainer
            check-url: http://${HOST_IP}:9000
            icon: si:portainer
          - title: Uptime Kuma
            url: /go/uptime-kuma
            check-url: http://${HOST_IP}:3001
            icon: si:uptimekuma
          - title: WUD
            url: /go/wud
            check-url: http://${HOST_IP}:3002
            icon: si:docker
          - title: Speedtest
            url: /go/speedtest
            check-url: http://${HOST_IP}:8765
            icon: si:speedtest
          - title: Duplicati
            url: /go/duplicati
            check-url: http://${HOST_IP}:8200
            icon: si:docker
          - title: NetBox
            url: /go/netbox
            check-url: http://${HOST_IP}:8484
            icon: si:docker
          - title: Traefik
            url: /go/traefik
            check-url: http://${HOST_IP}:80
            icon: si:traefikproxy
          - title: Pi-hole
            url: /go/pihole
            check-url: http://${HOST_IP}:8088
            icon: si:pihole
    columns:
      - size: full
        widgets:
          - type: docker-containers
            limit: 50

      - size: small
        widgets:
          - type: server-stats
            servers:
              - type: local
                name: Docker VM

          - type: custom-api
            title: Latest Speedtest
            cache: 5m
            url: http://speedtest-tracker:80/api/speedtest/latest
            template: |
              {{ $data := .JSON.Get "data" }}
              {{ if $data }}
                <div style="display: flex; justify-content: space-around; padding: 1rem 0;">
                  <div style="text-align: center;">
                    <div style="font-size: 1.6rem; font-weight: bold;" class="color-primary">{{ $data.String "download" }}</div>
                    <div style="font-size: 0.9rem; opacity: 0.8;">↓ Mbps</div>
                  </div>
                  <div style="text-align: center;">
                    <div style="font-size: 1.6rem; font-weight: bold;" class="color-primary">{{ $data.String "upload" }}</div>
                    <div style="font-size: 0.9rem; opacity: 0.8;">↑ Mbps</div>
                  </div>
                  <div style="text-align: center;">
                    <div style="font-size: 1.6rem; font-weight: bold;">{{ $data.String "ping" }}</div>
                    <div style="font-size: 0.9rem; opacity: 0.8;">Ping (ms)</div>
                  </div>
                </div>
                <div style="text-align: center; font-size: 0.85rem; opacity: 0.7; margin-top: 0.5rem;">
                  Last test: {{ $data.String "created_at" }}
                </div>
              {{ else }}
                <div style="text-align: center; padding: 1rem; opacity: 0.7;">
                  No speedtest results yet. Tests run automatically every hour.
                </div>
              {{ end }}

          - type: custom-api
            title: What's Up Docker?
            title-url: http://192.168.2.50:3002
            cache: 1h
            url: http://wud:3000/api/containers/
            method: GET
            headers:
              Authorization: "Basic YWRtaW46YWRtaW4="
            template: |
              {{/* WUD Monitor v2.1 */}}
              {{ $showInfo := true }}
              {{ $showList := true }}
              {{ $showAll := false }}
              {{ $showUpdateKind := true }}
              {{ $showUpdateTypes := false }}
              {{ $showLocalVersion := true }}
              {{ $hasUpdates := false }}

              {{ $containers := .JSON.Array "" }}
              {{ $total := len $containers }}
              {{ $updates := 0 }}
              {{ $running := 0 }}

              {{ range $containers }}
                {{ if .Bool "updateAvailable" }}
                  {{ $updates = add $updates 1 }}
                {{ end }}
                {{ if eq (.String "status") "running" }}
                  {{ $running = add $running 1 }}
                {{ end }}
              {{ end }}

              {{ if $showInfo }}
                <div style="display: flex; justify-content: space-around; margin: 1rem 0;">
                  <div style="text-align: center;">
                    <div style="font-size: 1.4rem;">{{ $updates }}</div>
                    <div style="font-size: 0.9rem; opacity: 0.8;">Updates</div>
                  </div>
                  <div style="text-align: center;">
                    <div style="font-size: 1.4rem;">{{ $total }}</div>
                    <div style="font-size: 0.9rem; opacity: 0.8;">Total</div>
                  </div>
                  <div style="text-align: center;">
                    <div style="font-size: 1.4rem;">{{ $running }}</div>
                    <div style="font-size: 0.9rem; opacity: 0.8;">Running</div>
                  </div>
                </div>
              {{ end }}

              {{ if $showList }}
                <ul class="list list-gap-10 collapsible-container" data-collapse-after="5">
                  {{ range $containers }}
                    {{ if .Bool "updateAvailable" }}
                      {{ $hasUpdates = true }}
                      <li>
                        <div class="size-h4">
                          {{ if eq (.String "status") "running" }}
                            <span class="color-positive">●</span>
                          {{ else }}
                            <span class="color-negative">●</span>
                          {{ end }}
                          <a href="http://192.168.2.50:3002" target="_blank" style="color: inherit; text-decoration: none;">{{ .String "name" }}</a>
                        </div>
                        <div style="display: flex; gap: 1rem; margin-top: 0.25rem; font-size: 0.9rem; opacity: 0.8;">
                          {{ if $showLocalVersion }}
                            <div>
                              {{ $localValue := .String "updateKind.localValue" }}
                              {{ if ge (len $localValue) 7 }}
                                {{ $isSha256 := eq (slice $localValue 0 7) "sha256:" }}
                                {{ if $isSha256 }}
                                  {{ $shortDigest := slice $localValue 7 11 }}
                                  <span>{{ $shortDigest }}</span>
                                {{ else }}
                                  <span>{{ $localValue }}</span>
                                {{ end }}
                              {{ else }}
                                <span>{{ $localValue }}</span>
                              {{ end }}
                            </div>
                          {{ end }}
                          {{ if $showUpdateKind }}
                            <div>
                              →
                              {{ $tagValue := .String "updateKind.remoteValue" }}
                              {{ if ge (len $tagValue) 7 }}
                                {{ $isSha256 := eq (slice $tagValue 0 7) "sha256:" }}
                                {{ if $isSha256 }}
                                  {{ $shortDigest := slice $tagValue 7 11 }}
                                  <span class="color-primary">{{ $shortDigest }}</span>
                                {{ else }}
                                  <span class="color-primary">{{ $tagValue }}</span>
                                {{ end }}
                              {{ else }}
                                <span class="color-primary">{{ $tagValue }}</span>
                              {{ end }}
                            </div>
                          {{ end }}
                        </div>
                      </li>
                    {{ end }}
                  {{ end }}

                  {{ if not $hasUpdates }}
                    <li class="flex items-center justify-center">
                      <span class="color-positive size-h4">All containers are up to date!</span>
                    </li>
                  {{ end }}
                </ul>
              {{ end }}

  - name: AI
    slug: ai
    columns:
      - size: full
        widgets:
          - type: monitor
            cache: 1m
            title: AI Services
            sites:
              - title: Open WebUI
                url: /go/openwebui
                check-url: http://${HOST_IP}:3000
                icon: si:openai
              - title: SearXNG
                url: /go/searxng
                check-url: http://${HOST_IP}:4000
                icon: si:searxng
              - title: LocalAI
                url: /go/localai
                check-url: http://${HOST_IP}:8084
                icon: si:openai
              - title: AnythingLLM
                url: /go/anythingllm
                check-url: http://${HOST_IP}:3003
                icon: si:openai
              - title: Whisper
                url: /go/whisper
                check-url: http://${HOST_IP}:9002
                icon: si:openai
              - title: LibreChat
                url: /go/librechat
                check-url: http://${HOST_IP}:3080
                icon: si:openai
      - size: small
        widgets:
          - type: bookmarks
            groups:
              - title: External Links
                links:
                  - title: Open WebUI
                    url: https://chat.weekendcodeproject.dev
                    icon: si:openai
                  - title: SearXNG
                    url: https://search.weekendcodeproject.dev
                    icon: si:searxng

  - name: Automation
    slug: automation
    columns:
      - size: full
        widgets:
          - type: monitor
            cache: 1m
            title: Automation Services
            sites:
              - title: Home Assistant
                url: /go/homeassistant
                check-url: http://${HOST_IP}:8123
                icon: si:homeassistant
              - title: n8n
                url: /go/n8n
                check-url: http://${HOST_IP}:5678
                icon: si:n8n
              - title: Activepieces
                url: /go/activepieces
                check-url: http://${HOST_IP}:8087
                icon: si:docker
              - title: Postiz
                url: /go/postiz
                check-url: http://${HOST_IP}:8095
                icon: si:docker
      - size: small
        widgets:
          - type: bookmarks
            groups:
              - title: External Links
                links:
                  - title: Home Assistant
                    url: https://home.weekendcodeproject.dev
                    icon: si:homeassistant
                  - title: n8n
                    url: https://n8n.weekendcodeproject.dev
                    icon: si:n8n
                  - title: Activepieces
                    url: https://activepieces.weekendcodeproject.dev
                    icon: si:docker
                  - title: Postiz
                    url: https://postiz.weekendcodeproject.dev
                    icon: si:docker

  - name: Dev
    slug: dev
    columns:
      - size: full
        widgets:
          - type: monitor
            cache: 1m
            title: Development Tools
            sites:
              - title: Coder
                url: /go/coder
                check-url: http://${HOST_IP}:7080
                icon: si:coder
              - title: Gitea
                url: /go/gitea
                check-url: http://${HOST_IP}:7001
                icon: si:gitea
              - title: GitLab
                url: /go/gitlab
                check-url: http://${HOST_IP}:8929
                icon: si:gitlab
      - size: small
        widgets:
          - type: bookmarks
            groups:
              - title: External Links
                links:
                  - title: Coder
                    url: https://coder.weekendcodeproject.dev
                    icon: si:coder
                  - title: Gitea
                    url: https://gitea.weekendcodeproject.dev
                    icon: si:gitea

  - name: Monitoring
    slug: monitoring
    columns:
      - size: full
        widgets:
          - type: monitor
            cache: 1m
            title: Monitoring Services
            sites:
              - title: Cockpit
                url: /go/cockpit
                check-url: http://${HOST_IP}:80
                icon: si:cockpit
              - title: Dozzle
                url: /go/dozzle
                check-url: http://${HOST_IP}:9999
                icon: si:docker
              - title: What's Up Docker
                url: /go/wud
                check-url: http://${HOST_IP}:3002
                icon: si:docker
              - title: Speedtest Tracker
                url: /go/speedtest
                check-url: http://${HOST_IP}:8765
                icon: si:speedtest
              - title: Uptime Kuma
                url: /go/uptime-kuma
                check-url: http://${HOST_IP}:3001
                icon: si:uptimekuma
              - title: NetData
                url: /go/netdata
                check-url: http://${HOST_IP}:19999
                icon: si:netdata
              - title: Duplicati
                url: /go/duplicati
                check-url: http://${HOST_IP}:8200
                icon: si:docker
              - title: Portainer
                url: /go/portainer
                check-url: http://${HOST_IP}:9000
                icon: si:portainer
              - title: NetBox
                url: /go/netbox
                check-url: http://${HOST_IP}:8484
                icon: si:docker
              - title: Traefik
                url: /go/traefik
                check-url: http://${HOST_IP}:80
                icon: si:traefikproxy
              - title: Pi-hole
                url: /go/pihole
                check-url: http://${HOST_IP}:8088
                icon: si:pihole

  - name: Personal
    slug: networking
    columns:
      - size: full
        widgets:
          - type: monitor
            cache: 1m
            title: Network Services
            sites:
              - title: Traefik
                url: /go/traefik
                check-url: http://${HOST_IP}:80
                icon: si:traefikproxy
              - title: Pi-hole
                url: /go/pihole
                check-url: http://${HOST_IP}:8088
                icon: si:pihole

  - name: Personal
    slug: personal
    columns:
      - size: full
        widgets:
          - type: monitor
            cache: 1m
            title: Personal & Media Services
            sites:
              - title: Mealie
                url: /go/mealie
                check-url: http://${HOST_IP}:9925
                icon: si:chef
              - title: Firefly III
                url: /go/firefly
                check-url: http://${HOST_IP}:8086
                icon: si:fireflyiii
              - title: Wger
                url: /go/wger
                check-url: http://${HOST_IP}:8089
                icon: si:docker
              - title: Immich
                url: /go/immich
                check-url: http://${HOST_IP}:2283
                icon: si:googlephotos
              - title: Kavita
                url: /go/kavita
                check-url: http://${HOST_IP}:5000
                icon: si:bookstack
              - title: Navidrome
                url: /go/navidrome
                check-url: http://${HOST_IP}:4533
                icon: si:musicbrainz
      - size: small
        widgets:
          - type: bookmarks
            groups:
              - title: External Links
                links:
                  - title: Mealie
                    url: https://mealie.weekendcodeproject.dev
                    icon: si:chef
                  - title: Firefly III
                    url: https://firefly.weekendcodeproject.dev
                    icon: si:fireflyiii
                  - title: Wger
                    url: https://wger.weekendcodeproject.dev
                    icon: si:docker
              - title: External Links
                links:
                  - title: Immich
                    url: https://immich.weekendcodeproject.dev
                    icon: si:googlephotos
                  - title: Kavita
                    url: https://kavita.weekendcodeproject.dev
                    icon: si:bookstack
                  - title: Navidrome
                    url: https://music.weekendcodeproject.dev
                    icon: si:musicbrainz
          - type: custom-api
            cache: 5m
            title: Immich Stats
            title-url: http://192.168.2.50:2283
            url: http://192.168.2.50:2283/api/server-info/stats
            headers:
              x-api-key: "your_immich_api_key_here"
            template: |
              {{ $photos := .JSON.Int "photos" }}
              {{ $videos := .JSON.Int "videos" }}
              {{ $usage := .JSON.Int "usage" }}
              <div style="display: flex; justify-content: space-around; margin: 1rem 0;">
                <div style="text-align: center;">
                  <div style="font-size: 1.4rem;">{{ $photos }}</div>
                  <div style="font-size: 0.9rem; opacity: 0.8;">Photos</div>
                </div>
                <div style="text-align: center;">
                  <div style="font-size: 1.4rem;">{{ $videos }}</div>
                  <div style="font-size: 0.9rem; opacity: 0.8;">Videos</div>
                </div>
                <div style="text-align: center;">
                  <div style="font-size: 1.4rem;">{{ add $photos $videos }}</div>
                  <div style="font-size: 0.9rem; opacity: 0.8;">Total</div>
                </div>
              </div>
          - type: custom-api
            cache: 5m
            title: Kavita Latest
            title-url: http://192.168.2.50:5000
            url: http://192.168.2.50:5000/api/Series/recently-updated?pageSize=5
            headers:
              Authorization: "Bearer kavita_api_key_here"
            template: |
              {{ range .JSON.Array "" }}
                <li>
                  <div class="size-h4">{{ .String "name" }}</div>
                  <div style="font-size: 0.9rem; opacity: 0.8;">{{ .String "libraryName" }}</div>
                </li>
              {{ end }}
          - type: custom-api
            cache: 5m
            title: Navidrome Stats
            title-url: http://192.168.2.50:4533
            url: http://192.168.2.50:4533/rest/getUser.view?u=admin&p=admin&v=1.16.1&c=glance&f=json
            template: |
              {{ $artists := .JSON.Int "subsonic-response.user.artistCount" }}
              {{ $albums := .JSON.Int "subsonic-response.user.albumCount" }}
              {{ $songs := .JSON.Int "subsonic-response.user.trackCount" }}
              <div style="display: flex; justify-content: space-around; margin: 1rem 0;">
                <div style="text-align: center;">
                  <div style="font-size: 1.4rem;">{{ $artists }}</div>
                  <div style="font-size: 0.9rem; opacity: 0.8;">Artists</div>
                </div>
                <div style="text-align: center;">
                  <div style="font-size: 1.4rem;">{{ $albums }}</div>
                  <div style="font-size: 0.9rem; opacity: 0.8;">Albums</div>
                </div>
                <div style="text-align: center;">
                  <div style="font-size: 1.4rem;">{{ $songs }}</div>
                  <div style="font-size: 0.9rem; opacity: 0.8;">Songs</div>
                </div>
              </div>

  - name: Productivity
    slug: productivity
    columns:
      - size: full
        widgets:
          - type: monitor
            cache: 1m
            title: Productivity Services
            sites:
              - title: Vaultwarden
                url: /go/vaultwarden
                check-url: http://${HOST_IP}:8222
                icon: si:vaultwarden
              - title: NocoDB
                url: /go/nocodb
                check-url: http://${HOST_IP}:8090
                icon: si:airtable
              - title: Paperless
                url: /go/paperless
                check-url: http://${HOST_IP}:8082
                icon: si:docker
              - title: Focalboard
                url: /go/focalboard
                check-url: http://${HOST_IP}:8097
                icon: si:trello
              - title: Trilium
                url: /go/trilium
                check-url: http://${HOST_IP}:8085
                icon: si:obsidian
              - title: Vikunja
                url: /go/vikunja
                check-url: http://${HOST_IP}:3456
                icon: si:todoist
              - title: IT-Tools
                url: /go/it-tools
                check-url: http://${HOST_IP}:8091
                icon: si:docker
              - title: Excalidraw
                url: /go/excalidraw
                check-url: http://${HOST_IP}:8092
                icon: si:excalidraw
              - title: Docmost
                url: /go/docmost
                check-url: http://${HOST_IP}:8093
                icon: si:confluence
              - title: FileBrowser
                url: /go/filebrowser
                check-url: http://${HOST_IP}:8096
                icon: si:files
              - title: Hoarder
                url: /go/hoarder
                check-url: http://${HOST_IP}:3030
                icon: si:pocket
              - title: ByteStash
                url: /go/bytestash
                check-url: http://${HOST_IP}:8094
                icon: si:github
      - size: small
        widgets:
          - type: bookmarks
            groups:
              - title: External Links
                links:
                  - title: Vaultwarden
                    url: https://vault.weekendcodeproject.dev
                    icon: si:vaultwarden
                  - title: NocoDB
                    url: https://nocodb.weekendcodeproject.dev
                    icon: si:airtable
                  - title: Paperless
                    url: https://paperless.weekendcodeproject.dev
                    icon: si:docker
              - title: External Links
                links:
                  - title: Focalboard
                    url: https://focalboard.weekendcodeproject.dev
                    icon: si:trello
                  - title: Trilium
                    url: https://trilium.weekendcodeproject.dev
                    icon: si:obsidian
                  - title: Vikunja
                    url: https://vikunja.weekendcodeproject.dev
                    icon: si:todoist
                  - title: Docmost
                    url: https://docmost.weekendcodeproject.dev
                    icon: si:confluence
              - title: External Links
                links:
                  - title: IT-Tools
                    url: https://it-tools.weekendcodeproject.dev
                    icon: si:docker
                  - title: Excalidraw
                    url: https://excalidraw.weekendcodeproject.dev
                    icon: si:excalidraw
                  - title: FileBrowser
                    url: https://filebrowser.weekendcodeproject.dev
                    icon: si:files
                  - title: Hoarder
                    url: https://hoarder.weekendcodeproject.dev
                    icon: si:pocket
                  - title: ByteStash
                    url: https://bytestash.weekendcodeproject.dev
                    icon: si:github
